<!--
  Purpose: Top navigation bar for the app.
  Notes:
    - Shows global routes (feed, login, register, profile).
    - Conditionally displays actions depending on authentication state.
    - Ensures protected links are hidden from unauthenticated users.
-->

<nav class="bg-white border-b border-gray-200">
  <div class="mx-auto max-w-5xl px-4 py-3 flex items-center justify-between">
    <!-- Brand logo / app name -->
    <a routerLink="/" class="font-bold text-lg">Social</a>

    <div class="flex items-center gap-4">
      <!-- Public route: always visible -->
      <a routerLink="/" class="text-gray-700 hover:underline">Feed</a>
      <!-- Protected route: only visible when authenticated -->
      <a *ngIf="isAuth" routerLink="/posts/new" class="text-gray-700 hover:underline">New Post</a>
      <!-- Conditional rendering: login/register if not authenticated -->
      <ng-container *ngIf="!isAuth; else userBlock">
        <a routerLink="/login" class="text-gray-700 hover:underline">Login</a>
        <a routerLink="/register" class="text-gray-700 hover:underline">Register</a>
      </ng-container>
      <!-- If authenticated, show profile + logout -->
      <ng-template #userBlock>
        <a [routerLink]="['/profile', user?.id]" class="text-gray-700 hover:underline">
          {{ user?.name }}
        </a>
        <!-- Logout button: calls component method -->
        <button (click)="logout()" class="px-3 py-1 rounded bg-gray-900 text-white">Logout</button>
      </ng-template>
    </div>
  </div>
</nav>
